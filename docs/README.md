# 📚 BankInCafe ドキュメント

## 📋 概要
このディレクトリは、BankInCafeプロジェクトの包括的なドキュメントを管理します。ツール作り直し時の参考資料として設計されています。

## 📁 ドキュメント構成

### 🎯 システムルール（必読・最重要）
- **[system-rules.md](./system-rules.md)** - システム全体の統一ルール
  - **T/S作業分類ルール**: 個別作業とセット作業の判定・表示
  - **価格データルール**: 数量・単価・金額の管理
  - **データ保護ルール**: 経理データの完全性保持
  - **UI統一ルール**: 全画面での一貫した表示

### 🔧 開発ガイド
- **[全ページ機能マニュアル](./全ページ機能マニュアル.md)** - 全ページの詳細機能仕様（大規模データベース対応）
- **[UI_MODIFICATION_GUIDE](./UI_MODIFICATION_GUIDE.md)** - UI変更時の詳細ガイド（全AIツール対応）

### 📖 使用方法

#### 🎯 新規開発・ツール作り直し時
1. **[system-rules.md](./system-rules.md)** で統一ルールを完全理解（必須）
2. `全ページ機能マニュアル.md`で既存機能を完全把握
3. セキュリティ設計セクションで脅威対策を確認
4. モジュラー設計に従ってコンポーネント分離実装
5. CSS競合回避パターンを適用

#### 🔧 UI変更時
1. `UI_MODIFICATION_GUIDE.md`で対象ページの構造確認
2. セキュリティルールを確認
3. AIツール別アプローチを参考に実装
4. チェックリストで品質確認

## 🛡️ セキュリティ重要事項

### ⚠️ 必須確認項目
- [ ] SecurityWrapper適用確認
- [ ] RLS（Row Level Security）設定
- [ ] XSS対策（自動エスケープ使用）
- [ ] 機密情報ログ出力禁止
- [ ] エラーメッセージ情報漏洩防止

### 🔐 セキュリティ原則
1. **最小権限原則**: 必要最小限のアクセス権限
2. **多層防御**: 複数のセキュリティ対策を組み合わせ
3. **データ分離**: RLSによるユーザー別データ分離
4. **認証強制**: 全ページでSecurityWrapper必須
5. **監査ログ**: 重要操作の記録

## 📊 アーキテクチャ概要

```
bankincafe/
├── src/app/              # ページルーティング（Next.js App Router）
├── src/components/       # 再利用コンポーネント
├── src/lib/             # ユーティリティ・設定
├── docs/                # 📚 このドキュメント
└── 請求書システム画像/    # 画面設計参考資料
```

## 🔄 ドキュメント更新ルール

### 📝 更新タイミング
- 新機能追加時：該当セクション更新
- セキュリティ強化時：脅威対策セクション更新
- UI変更時：修正パターン追加
- 重大な変更時：バージョン番号更新

### 🎯 品質基準
- 具体的な行数・ファイル名を記載
- AIツールが理解しやすい構造化記述
- セキュリティリスクの明確な説明
- 実装例とベストプラクティスの提供

---

## 📞 関連リンク

- **プロジェクトルート**: `C:\Windsurf\bankincafe\`
- **README.md**: プロジェクト概要
- **SECURITY_DESIGN.md**: セキュリティ詳細設計
- **package.json**: 技術スタック・依存関係

---

**最終更新**: 2025-01-25  
**管理者**: 開発チーム  
**用途**: ツール作り直し・保守・機能拡張の包括的ガイド