# 請求書一覧ページ機能説明書

## 📋 概要
請求書一覧ページは、登録済みの請求書を効率的に管理・検索・閲覧するための機能です。

---

## 🎯 主要機能一覧

### 1. ページヘッダー
- **ページタイトル**: 「請求書一覧」
- **説明文**: 「登録済みの請求書を管理できます」
- **ナビゲーション**:
  - 「メニューに戻る」ボタン（灰色）- メイン画面に戻る
  - 「新規作成」ボタン（青色）- 新しい請求書作成画面に移動

### 2. 統計情報ダッシュボード
4つのカードで請求書の統計を表示：
- **総件数**: 全請求書の件数
- **未払い**: 支払いが完了していない請求書の件数（赤色）
- **支払済み**: 支払いが完了した請求書の件数（緑色）
- **合計金額**: 全請求書の金額合計（日本円形式）

### 3. 検索・フィルター機能
**シンプル1行レイアウト**で以下の機能を提供：

#### 3.1 曖昧検索（キーワード検索）
- **検索対象**: 請求書番号、顧客名、件名、作業内容、発行日、請求日
- **曖昧検索機能**:
  - ひらがな ⇄ カタカナ: 「かたかな」「カタカナ」同じ結果
  - 大文字 ⇄ 小文字: 「ABC」「abc」同じ結果  
  - 全角 ⇄ 半角: 「ＡＢＣ」「ABC」同じ結果
  - 全角スペース ⇄ 半角スペース: 「　」「 」同じ結果

#### 3.2 年フィルター
- 過去5年分の年を選択可能
- 「すべての年」で全期間表示

#### 3.3 月フィルター  
- 1月〜12月を選択可能
- 「すべての月」で全期間表示

#### 3.4 クリアボタン
- 全ての検索条件を一括リセット

### 4. ページネーション機能

#### 4.1 上部メインページネーション
- **表示件数選択**: 10件/30件/50件から選択
- **件数表示**: 「1〜10件 / 50件中」形式
- **ページナビゲーション**:
  - 前へ/次へボタン
  - ページ番号ボタン（最大5個表示）
  - 現在ページは青色でハイライト

#### 4.2 下部補助ページネーション
- **位置**: テーブル右下
- **シンプルデザイン**: 枠なし、テキストベース
- **機能**: 前へ/次へ + ページ番号（最大3個）

### 5. 請求書一覧テーブル

#### 5.1 テーブル構造（6列レイアウト）

**第1列: 請求書番号/発行日/請求月**
- 請求書番号（太字）
- 発行日（YYYY/MM/DD形式）
- 請求月（YY年M月形式）

**第2列: 請求先/件名/登録番号**
- 顧客名（太字）
- 件名（長い場合は省略表示）
- 登録番号

**第3列: 発注番号/オーダー番号**
- 発注番号
- オーダー番号

**第4列: 品名明細**
- **表示ルール**: 最大3件まで表示
- **作業タイプ識別**:
  - 「T:」プレフィックス = 個別作業
  - 「S:」プレフィックス = セット作業
- **省略表示**: 4件目以降は「その他N件あり」
- **ヘッダー**: 「品名明細（最大3件）T個別Sセット」

**第5列: 数量**
- 各品目の数量を縦に表示

**第6列: 請求金額/ステータス/詳細**
- 請求金額（日本円形式、太字）
- ステータスバッジ:
  - 「下書き」（灰色）
  - 「確定」（青色）
  - 「送信済み」（緑色）  
  - 「支払済み」（紫色）
- 「詳細」リンク - 請求書詳細画面に移動

#### 5.2 テーブル機能
- **ホバー効果**: 行にマウスオーバーで背景色変更
- **レスポンシブ**: 横スクロール対応
- **データなし表示**: 検索結果が0件の場合の案内表示

---

## 🔄 操作フロー例

### 基本的な請求書検索
1. 検索窓にキーワードを入力（例：「トラックス」「とらっくす」「TRUCKS」全て同じ結果）
2. 必要に応じて年・月フィルターを設定
3. 結果がリアルタイムで表示される

### ページ間移動
1. 上部の表示件数で10/30/50件を選択
2. ページ番号をクリックして移動
3. 長いテーブルをスクロール後、下部ページネーションで素早く移動

### 請求書詳細確認
1. 一覧から対象の請求書を特定
2. 「詳細」リンクをクリック
3. 請求書詳細画面で内容を確認

---

## 💡 便利な使い方のコツ

### 効率的な検索
- **部分一致**: 「UD」で「株式会社UDトラックス」が見つかる
- **文字種自動変換**: 入力時の文字種を気にする必要なし
- **複合検索**: キーワード + 年月フィルターで絞り込み強化

### 大量データの管理
- **表示件数調整**: データ量に応じて10〜50件で調整
- **統計確認**: 上部ダッシュボードで全体把握
- **ページ移動**: 上下両方のページネーションを活用

### 作業タイプの識別
- **T:プレフィックス**: 個別の作業項目
- **S:プレフィックス**: セット作業（複数項目をまとめたもの）
- **項目数確認**: 「その他N件あり」で総項目数を把握

---

## ⚠️ 注意事項

- 検索結果はリアルタイム更新（入力と同時に絞り込み）
- フィルター変更時は自動的に1ページ目に戻る
- 長い件名や作業内容は省略表示される（詳細は詳細画面で確認）
- 請求月は4桁数字（YYMM）から自動的に「YY年M月」形式に変換表示

---

## 🔗 関連画面への遷移

- **メニュー画面**: 「メニューに戻る」ボタン
- **請求書作成画面**: 「新規作成」ボタン  
- **請求書詳細画面**: 各行の「詳細」リンク

---

*この機能説明書は請求書一覧ページ（/invoice-list）の全機能を網羅しています。*
*ユーザーマニュアル作成時の参考資料として使用してください。*